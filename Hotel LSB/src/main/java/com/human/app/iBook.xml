<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

	<!-- namespace="인터페이스의 경로명+이름" -->
<mapper namespace="com.human.app.iBook">
	<insert id="doAddBooking">
		insert into booking(bookcode,person,checkin,checkout,name,mobile,roomcode,total)
		values(seq_booking.nextval,#{param1},#{param2},#{param3},#{param4},#{param5},#{param6},#{param7})
	</insert> 
 	<select id="getReserveList" resultType="com.human.app.Bookinfo">
	 	select a.bookcode,b.roomname,b.roomtype,b.howmany max_howmany,a.howmany person,a.checkin,a.checkout,total,name,mobile
	 	from book a, room b
	 	<![CDATA[where a.checkout > #{param1} and a.checkin < #{param2}]]>
	 	 and a.roomcode=b.roomcode
	 	 order by a.checkin
	</select> 
</mapper>